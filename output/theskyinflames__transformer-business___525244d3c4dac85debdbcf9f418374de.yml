trbusiness:
  image: quay.io/serhs/trbusiness
  environment:
    - TRBUSINESS_ACTIVE_READER_ADAPTER=KAFKA_ADAPTER
    - TRBUSINESS_ACTIVE_PULSES_PROCESSOR=DEFAULT
    - TRBUSINESS_ACTIVE_RECORDER=DEFAULT_RECORDER
    - TRBUSINESS_SAVER_DB_CONNECTION=POC/POCDEV@dbdev01.serhstourism.local:1521/DBDEV
    - TRBUSINESS_SAVER_DB_DRIVER=oci8
    - TRBUSINESS_KAFKA_TOPIC=acollector_topic2
    - TRBUSINESS_MAX_CONCURRENCE=10
    - TRBUSINESS_MAX_CONCURRENCE_KAFKA=1
    - TRBUSINESS_METRICS_HTTP_PORT=9099
    - TRBUSINESS_METRICS_HTTP_HOST=
    - TRBUSINESS_MAX_CPUS=8
    - TRBUSINESS_RESTFULAPI_PORT=41000
    - TRBUSINESS_RESTFULAPI_PATH=/trbusiness/
    - TRBUSINESS_RESTFULAPI_START=start
    - TRBUSINESS_RESTFULAPI_STOP=stop
    - TRBUSINESS_RESTFULAPI_GET_INDICATOR=indicator
    - TRBUSINESS_SAVER_INTERVAL_TIME=500
    - TRBUSINESS_SAVER_INTERVAL_NPULSES=1000
    - TRBUSINESS_NUM_OF_PULSES_TO_SAVE=200
    - GO_COMMON__LIB_GC_KAFKA_CLIENT__TOPIC=TRBUSINESS_topic
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__BROKER_LIST=mdhdevsrv01:9092
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__CHANNELBUFFERSIZE=1000
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__MAXOPENREQUESTS=3
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__DIALTIMEOUT=2000
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__READTIMEOUT=2000
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__WRITETIMEOUT=2000
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__PRODUCER_MAXMESSAGESBYTES=1000000
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__PRODUCER_REQUIREDACKS=0
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__PRODUCER_TIMEOUT=2000
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__PRODUCER_COMPRESSION=0
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__CONSUMER_MAXWAITTIME=250
    - GO_COMMON__LIB_GC_KAKFA_CLIENT__CONSUMER_MAXPROCESSINGTIME=100    
  ports:
    - 62000:41000
    - 9210:9099
  volumes:
    - /tmp:/LOG
